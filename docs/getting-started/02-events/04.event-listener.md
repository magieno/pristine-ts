<p>
   <strong>Previous section: </strong> <a href="03.event-handler.md">Event Handler</a>
</p>


Event Listener
-------

Event Listeners are the final piece of the puzzle. They are designed for **Side Effects**.

While an [Event Handler](03.event-handler.md) is responsible for the *primary* business logic and returning a response to the user, **Event Listeners** run asynchronously (conceptually) after the main processing is done. They are perfect for actions that should not block the main response or cause the request to fail if they encounter an error.

### Use Cases
*   Sending a welcome email after a user is created.
*   Logging audit trails.
*   Updating analytics dashboards.
*   Triggering webhooks.

### The Contract

An Event Listener must implement the `EventListenerInterface`. It receives both the original `Event` and the `EventResponse` generated by the handler.

```typescript
import { EventListenerInterface, Event, EventResponse, ServiceDefinitionTagEnum, tag } from "@pristine-ts/core";
import { injectable } from "tsyringe";

@tag(ServiceDefinitionTagEnum.EventListener)
@injectable()
export class UserCreatedAuditListener implements EventListenerInterface {
    
    async handle(event: Event, response: EventResponse): Promise<void> {
        // This runs after the response has been sent (or prepared)
        console.log(`Audit: User created with ID ${event.payload.id}`);
    }
}
```

### Registration
Like handlers, listeners are discovered automatically if they are tagged with `ServiceDefinitionTagEnum.EventListener`. You can have multiple listeners for the same event type.

---

<p align="right">
   <strong>Next chapter: </strong> <a href="../03-controllers/00.index.md">Controllers</a>
</p>
